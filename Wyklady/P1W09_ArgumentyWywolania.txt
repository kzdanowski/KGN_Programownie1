Jak przekazywać argumenty wywołania w consoli (CLI)
przy wywołaniu postaci:
$> python program.py arg1 arg2 arg3

Przykład z wykorzystaniem biblioteki argparse.


def main(name_fin, name_fout,text_encoding):
    try:
        with open(name_fin, "r", encoding=text_encoding) as fin, \
        open(name_fout, "w", encoding=text_encoding) as fout:
            for line in fin.readlines():
                if len(line.strip()) != 0:
                    fout.write(line)
    except FileNotFoundError as e:
        print(e)
    except PermissionError as e:
        print(e)
    except UnicodeDecodeError as e:
        print(e)

from argparse import ArgumentParser

if __name__== "__main__":
    p = ArgumentParser()
    p.add_argument("name_fin")
    p.add_argument("name_fout")
    args = p.parse_args()
    main(args.name_fin, args.name_fout, "utf-8")


Inaczej, trochę prościej przy pomocy sys.argv.

import sys

if __name__ == "__main__":  # czy jesteśmy wywołani w sposób np. python plik.py
    if len(sys.argv) != 3:
        print("Użycie: python script.py <plik_wejściowy> <plik_wyjściowy>")
        sys.exit(1)

    name_fin = sys.argv[1]
    name_fout = sys.argv[2]

    main(name_fin, name_fout, "utf-8")


